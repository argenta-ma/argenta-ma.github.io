



<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Uma introdução ao método dos elementos finitos">
      
      
      
        <meta name="author" content="Marco André Argenta">
      
      
        <meta name="lang:clipboard.copy" content="Copiar para área de transferência">
      
        <meta name="lang:clipboard.copied" content="Copiado para área de transferência">
      
        <meta name="lang:search.language" content="pt">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="Nenhum resultado encontrado">
      
        <meta name="lang:search.result.one" content="1 resultado encontrado">
      
        <meta name="lang:search.result.other" content="# resultados encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../imagens/mef.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Implementacao tp - Elementos Finitos Aplicados</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#03a9f4">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Serif:300,400,400i,700|Source+Code+Pro&display=fallback">
        <style>body,input{font-family:"Serif","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Source Code Pro","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/estilos.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="light-blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#introducao" tabindex="1" class="md-skip">
        Ir para o conteúdo
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Elementos Finitos Aplicados" class="md-header-nav__button md-logo">
          
            <img src="../../imagens/mef.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Elementos Finitos Aplicados
            </span>
            <span class="md-header-nav__topic">
              
                Implementacao tp
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Digite para iniciar a busca
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Elementos Finitos Aplicados" class="md-nav__button md-logo">
      
        <img src="../../imagens/mef.svg" width="48" height="48">
      
    </a>
    Elementos Finitos Aplicados
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Início" class="md-nav__link">
      Início
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Treliça Plana
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Treliça Plana
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../introducao_tp/" title="Introdução" class="md-nav__link">
      Introdução
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../teoria_tp/" title="Teoria" class="md-nav__link">
      Teoria
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aplicacao_tp/" title="Aplicação" class="md-nav__link">
      Aplicação
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Utilizações
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Utilizações
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../aplicacoes/trelica3barras/" title="Treliça com 3 barras" class="md-nav__link">
      Treliça com 3 barras
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aplicacoes/trelica11barras/" title="Treliça com 11 barras" class="md-nav__link">
      Treliça com 11 barras
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aplicacoes/contraventamentos/" title="Contraventamentos" class="md-nav__link">
      Contraventamentos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aplicacoes/analisemodal/" title="Análise Modal" class="md-nav__link">
      Análise Modal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aplicacoes/elastoplastica/" title="Barra elasto-plástica" class="md-nav__link">
      Barra elasto-plástica
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Vigas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Vigas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../vigas/introducao_v/" title="Introdução" class="md-nav__link">
      Introdução
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Teoria
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Teoria
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../vigas/teoria_v/" title="Teoria básica" class="md-nav__link">
      Teoria básica
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../vigas/teoria_2EB/" title="Euler-Bernoulli" class="md-nav__link">
      Euler-Bernoulli
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../vigas/aplicacao_v/" title="Aplicação" class="md-nav__link">
      Aplicação
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Utilizações
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Utilizações
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../vigas/aplicacoes/viga_hiperestatica/" title="Viga Hiperestática" class="md-nav__link">
      Viga Hiperestática
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../vigas/aplicacoes/viga_bimetalica/" title="Viga bimetálica" class="md-nav__link">
      Viga bimetálica
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../vigas/aplicacoes/viga_plastica/" title="Análise Elasto-plástica Vigas" class="md-nav__link">
      Análise Elasto-plástica Vigas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../vigas/aplicacoes/viga_modal/" title="Análise Modal Vigas" class="md-nav__link">
      Análise Modal Vigas
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Pórticos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Pórticos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../porticos/introducao_p/" title="Introdução" class="md-nav__link">
      Introdução
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../porticos/teoria_p/" title="Teoria" class="md-nav__link">
      Teoria
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../porticos/aplicacao_p/" title="Aplicação" class="md-nav__link">
      Aplicação
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4">
    
    <label class="md-nav__link" for="nav-4-4">
      Utilizações
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        Utilizações
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../porticos/aplicacoes/portico_simples/" title="Pórtico Simples" class="md-nav__link">
      Pórtico Simples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../porticos/aplicacoes/vinculacoes_vigapilar/" title="Vinculações Viga-Pilar" class="md-nav__link">
      Vinculações Viga-Pilar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../porticos/aplicacoes/flambagem_pilar/" title="Flambagem de Pilares" class="md-nav__link">
      Flambagem de Pilares
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../porticos/aplicacoes/edificios/" title="Edifícios" class="md-nav__link">
      Edifícios
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Estado plano
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Estado plano
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../estado_plano/introducao_ep/" title="Introdução" class="md-nav__link">
      Introdução
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Teoria
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        Teoria
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../estado_plano/teoria_ep/" title="Fundamentação" class="md-nav__link">
      Fundamentação
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../estado_plano/teoria_ep_quad/" title="Elemento quadrilateral" class="md-nav__link">
      Elemento quadrilateral
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../estado_plano/teoria_ep_tri/" title="Elemento triangular" class="md-nav__link">
      Elemento triangular
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Índice</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introducao" class="md-nav__link">
    Introdução
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#o-algoritmo" class="md-nav__link">
    O Algoritmo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funcoes" class="md-nav__link">
    Funções
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matriz-de-rotacao" class="md-nav__link">
    Matriz de Rotação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matriz-de-rigidez-local" class="md-nav__link">
    Matriz de Rigidez Local
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matriz-de-ridigez-global" class="md-nav__link">
    Matriz de Ridigez Global
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solucionador-de-deslocamentos" class="md-nav__link">
    "Solucionador" de Deslocamentos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solucionador-de-forcas" class="md-nav__link">
    "Solucionador" de Forças
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Implementacao tp</h1>
                
                <h2 id="introducao">Introdução</h2>
<p>Antes de se programar, necessariamente, deve-se primeiro pensar no algoritmo que será implementado. Um algoritmo pode ser definido como uma sequência bem definida de ações não ambíguas que deve ser executada em um intervalo de tempo finito e com um quantidade de esforço finita. Fica claro, então, que um algoritmo independente de seu ambiente implementação, uma vez que a sequência a ser executada é a mesma. Dessa forma, definir-se-á o algoritmo pela forma de um fluxograma, com <em>snippets</em> de código para cada parte do algoritmo. A linguagem utilizada aqui será a <strong>Python</strong>, pela sua facilidade de utilização e disponibilidade de bibliotecas.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">sympy</span> <span class="kn">as</span> <span class="nn">sp</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</pre></div>
</td></tr></table>

<p>depois</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">L</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
<span class="n">x1</span> <span class="o">=</span> <span class="o">-</span><span class="n">L</span><span class="o">/</span><span class="mi">2</span>
<span class="n">x2</span> <span class="o">=</span> <span class="n">L</span><span class="o">/</span><span class="mi">2</span>
<span class="n">u1</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="s1">&#39;u1&#39;</span><span class="p">)</span>
<span class="n">u2</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="s1">&#39;u2&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<h2 id="o-algoritmo">O Algoritmo</h2>
<p>A imagem a seguir demonstra por meio de um fluxograma o algoritmo a ser implantado. Observa-se que as caixas azul-marinho representarão as funções componentes do código; Faz-se importante programá-las dessa maneira uma vez que a utilização de funções permite a sua reutilização em códigos posteriores, evitando o retrabalho, já as setas pretas representam o sentido pelo qual o programa deverá ser corrido pelo interpretador <em>Python.</em> As setas em azul claro representam dados de <em>input</em>, quando a seta aponta em direção da caixa de função; e <em>output</em> quando a seta aponta na direção oposta. Cada item em azul claro representa o item que o programador deverá fornecer ao código, no <em>input</em> e cada item que o código retorna, no <em>output</em>.</p>
<p><img alt="" src="../imagens/flowchart.svg" /></p>
<h2 id="funcoes">Funções</h2>
<p>A seguir, serão apresentadas algumas sugestões de como se programar cada função no <em>Python</em>. As bibliotecas <strong><em>Numpy</em></strong> e <strong><em>Math</em></strong> serão utilizadas.</p>
<h3 id="matriz-de-rotacao">Matriz de Rotação</h3>
<p>A matriz de rotação rotaciona um segmento de reta à um ângulo <strong><em>theta</em></strong> medido a partir do eixo x positivo e o retorna em coordenadas <em>x</em> e <em>y</em>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">def</span> <span class="nv">rotation_matrix</span><span class="ss">(</span><span class="nv">theta</span><span class="ss">)</span>:

    <span class="s2">&quot;&quot;&quot;</span><span class="s">Rotation Matrix.</span>
       <span class="nv">Outputs</span>, <span class="nv">in</span> <span class="nv">matricial</span> <span class="nv">form</span>, <span class="nv">the</span> <span class="nv">coordinates</span> <span class="k">for</span> <span class="nv">a</span> <span class="nv">line</span>
       <span class="nv">segment</span> <span class="nv">defined</span> <span class="nv">by</span> <span class="nv">X</span> <span class="nv">and</span> <span class="nv">Y</span> <span class="nv">coordinates</span>. <span class="nv">The</span> <span class="nv">input</span> <span class="nv">is</span>
       <span class="nv">made</span> <span class="nv">in</span> <span class="nv">degrees</span>, <span class="nv">measured</span> <span class="nv">counter</span><span class="o">-</span><span class="nv">clockwise</span> <span class="nv">from</span> <span class="nv">the</span>
       <span class="nv">positive</span> <span class="nv">X</span> <span class="nv">axis</span>.<span class="s2">&quot;&quot;&quot;</span>

    <span class="nv">theta</span> <span class="o">=</span> <span class="nv">mt</span>.<span class="nv">radians</span><span class="ss">(</span><span class="nv">theta</span><span class="ss">)</span>
    <span class="nv">c</span> <span class="o">=</span> <span class="nv">mt</span>.<span class="nv">cos</span><span class="ss">(</span><span class="nv">theta</span><span class="ss">)</span>
    <span class="nv">s</span> <span class="o">=</span> <span class="nv">mt</span>.<span class="nv">sin</span><span class="ss">(</span><span class="nv">theta</span><span class="ss">)</span>

    <span class="nv">rotmat</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">matrix</span><span class="ss">(</span>[[<span class="nv">c</span>, <span class="o">-</span><span class="nv">s</span>, <span class="mi">0</span>., <span class="mi">0</span>.],
                        [<span class="nv">s</span>, <span class="nv">c</span>, <span class="mi">0</span>., <span class="mi">0</span>.],
                        [ <span class="mi">0</span>., <span class="mi">0</span>., <span class="nv">c</span>, <span class="o">-</span><span class="nv">s</span>],
                        [<span class="mi">0</span>., <span class="mi">0</span>., <span class="nv">s</span>, <span class="nv">c</span>]]<span class="ss">)</span>
    <span class="k">return</span> <span class="nv">rotmat</span>
</pre></div>
</td></tr></table>

<h3 id="matriz-de-rigidez-local">Matriz de Rigidez Local</h3>
<p>A matriz de rigidez local cria a matriz de rigidez local do elemento, em coordenadas globais.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">def</span> <span class="nv">local_stiffness_matrix</span><span class="ss">(</span><span class="nv">Young_Modulus</span><span class="o">=</span><span class="mi">1</span>., <span class="nv">Length</span><span class="o">=</span><span class="mi">1</span>.,
                       <span class="nv">Area</span><span class="o">=</span><span class="mi">1</span>., <span class="nv">Rot_Ang</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span><span class="ss">)</span>:

    <span class="s2">&quot;&quot;&quot;</span><span class="s">Local Stiffness Matrix Constructor (in Global Coordinates).</span>
       <span class="nv">Outputs</span>, <span class="nv">in</span> <span class="nv">matricial</span> <span class="nv">form</span>, <span class="nv">the</span> <span class="nv">local</span> <span class="nv">stiffness</span> <span class="nv">matrix</span> <span class="k">for</span>
       <span class="nv">a</span> <span class="nv">given</span> <span class="nv">truss</span> <span class="nv">element</span>. <span class="nv">The</span> <span class="s2">&quot;&quot;&quot;</span>

    <span class="nv">rotmat</span> <span class="o">=</span> <span class="nv">rotation_matrix</span><span class="ss">(</span><span class="nv">Rot_Ang</span><span class="ss">)</span>
    <span class="nv">rotmat_trans</span> <span class="o">=</span> <span class="nv">rotmat</span>.<span class="nv">transpose</span><span class="ss">()</span>

    <span class="nv">k_matrix</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">matrix</span><span class="ss">(</span>[[<span class="mi">1</span>., <span class="mi">0</span>., <span class="o">-</span><span class="mi">1</span>., <span class="mi">0</span>.],
                         [<span class="mi">0</span>., <span class="mi">0</span>., <span class="mi">0</span>., <span class="mi">0</span>.],
                         [<span class="o">-</span><span class="mi">1</span>., <span class="mi">0</span>., <span class="mi">1</span>., <span class="mi">0</span>.],
                         [<span class="mi">0</span>., <span class="mi">0</span>., <span class="mi">0</span>., <span class="mi">0</span>.]]<span class="ss">)</span>


    <span class="nv">local_stiff</span> <span class="o">=</span> <span class="nv">rotmat</span><span class="o">*</span><span class="ss">(</span><span class="nv">Young_Modulus</span><span class="o">*</span><span class="nv">Area</span><span class="o">/</span><span class="nv">Length</span><span class="ss">)</span><span class="o">*</span><span class="nv">k_matrix</span><span class="o">*</span><span class="nv">rotmat_trans</span>

    <span class="k">return</span> <span class="nv">local_stiff</span>
</pre></div>
</td></tr></table>

<h3 id="matriz-de-ridigez-global">Matriz de Ridigez Global</h3>
<p>A Matriz de rigidez global faz o endereçamento das matrizes de rigidez locais de cada elemento, criando assim a matriz de rigidez global.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">def</span> <span class="nv">global_stiffness_matrix</span><span class="ss">()</span>:

    <span class="s2">&quot;&quot;&quot;</span><span class="s">Global Stiffness Matrix.</span>
       <span class="nv">Outputs</span>, <span class="nv">in</span> <span class="nv">matricial</span> <span class="nv">form</span>, <span class="nv">the</span> <span class="nv">global</span> <span class="nv">stiffness</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">truss</span>
       <span class="nv">being</span> <span class="nv">analysed</span>. <span class="nv">The</span> <span class="nv">global</span> <span class="nv">nodes</span> <span class="nv">assingment</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">local</span> <span class="nv">nodes</span>
       <span class="nv">contained</span> <span class="nv">in</span> <span class="nv">each</span> <span class="nv">element</span> <span class="nv">has</span> <span class="nv">to</span> <span class="nv">be</span> <span class="nv">made</span> <span class="nv">manually</span>.<span class="s2">&quot;&quot;&quot;</span>

    #<span class="nv">Elements</span> <span class="nv">from</span> <span class="nv">the</span> <span class="nv">problem</span>:
    <span class="nv">element1</span> <span class="o">=</span> <span class="nv">local_stiffness_matrix</span><span class="ss">(</span><span class="nv">Young_Modulus</span><span class="o">=</span><span class="mi">200000</span>.,
                                      <span class="nv">Length</span><span class="o">=</span><span class="mi">1000</span><span class="o">*</span><span class="nv">mt</span>.<span class="nv">sqrt</span><span class="ss">(</span><span class="mi">2</span>.<span class="ss">)</span>,
                                      <span class="nv">Area</span><span class="o">=</span><span class="mi">10030</span>.<span class="mi">05</span>,
                                      <span class="nv">Rot_Ang</span><span class="o">=</span><span class="mi">135</span>.<span class="mi">0</span><span class="ss">)</span>

    <span class="nv">element2</span> <span class="o">=</span> <span class="nv">local_stiffness_matrix</span><span class="ss">(</span><span class="nv">Young_Modulus</span><span class="o">=</span><span class="mi">69000</span>.,
                                      <span class="nv">Length</span><span class="o">=</span><span class="mi">1000</span>.,
                                      <span class="nv">Area</span><span class="o">=</span><span class="mi">10030</span>.<span class="mi">05</span>,
                                      <span class="nv">Rot_Ang</span><span class="o">=</span><span class="mi">90</span>.<span class="mi">0</span><span class="ss">)</span>

    <span class="nv">element3</span> <span class="o">=</span> <span class="nv">local_stiffness_matrix</span><span class="ss">(</span><span class="nv">Young_Modulus</span><span class="o">=</span><span class="mi">69000</span>.,
                                      <span class="nv">Length</span><span class="o">=</span><span class="mi">1000</span>.,
                                      <span class="nv">Area</span><span class="o">=</span><span class="mi">10030</span>.<span class="mi">05</span>,
                                      <span class="nv">Rot_Ang</span><span class="o">=</span><span class="mi">0</span>.<span class="ss">)</span>

    #<span class="nv">Creating</span> <span class="nv">a</span> <span class="nv">blank</span> <span class="nv">Global</span> <span class="nv">Stiffness</span> <span class="nv">Matrix</span>                               
    <span class="nv">global_stiff</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">matrix</span><span class="ss">(</span><span class="nv">np</span>.<span class="nv">zeros</span><span class="ss">(</span>[<span class="mi">6</span>,<span class="mi">6</span>], <span class="nv">dtype</span> <span class="o">=</span> <span class="nv">float</span><span class="ss">))</span>

    #<span class="nv">Broadcasting</span> <span class="nv">element</span> <span class="mi">1</span> <span class="nv">into</span> <span class="nv">Global</span> <span class="nv">Stiffness</span> <span class="nv">Matrix</span>:
    <span class="nv">broadcast1</span> <span class="o">=</span> [<span class="mi">0</span>, <span class="mi">1</span>, <span class="mi">3</span>, <span class="mi">2</span>]
    <span class="k">for</span> <span class="nv">i</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">0</span>,<span class="mi">4</span><span class="ss">)</span>:
       <span class="k">for</span> <span class="nv">j</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">0</span>,<span class="mi">4</span><span class="ss">)</span>:
            <span class="nv">global_stiff</span>[<span class="nv">broadcast1</span>[<span class="nv">i</span>],<span class="nv">broadcast1</span>[<span class="nv">j</span>]] <span class="o">+=</span> <span class="nv">element1</span>[<span class="nv">i</span>,<span class="nv">j</span>]

    #<span class="nv">Broadcasting</span> <span class="nv">element</span> <span class="mi">2</span> <span class="nv">into</span> <span class="nv">Global</span> <span class="nv">Stiffness</span> <span class="nv">Matrix</span>:
    <span class="nv">broadcast2</span> <span class="o">=</span> [<span class="mi">4</span>, <span class="mi">5</span>, <span class="mi">3</span>, <span class="mi">2</span>]
    <span class="k">for</span> <span class="nv">i</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">0</span>,<span class="mi">4</span><span class="ss">)</span>:
       <span class="k">for</span> <span class="nv">j</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">0</span>,<span class="mi">4</span><span class="ss">)</span>:
            <span class="nv">global_stiff</span>[<span class="nv">broadcast2</span>[<span class="nv">i</span>],<span class="nv">broadcast2</span>[<span class="nv">j</span>]] <span class="o">+=</span> <span class="nv">element2</span>[<span class="nv">i</span>,<span class="nv">j</span>]

    #<span class="nv">Broadcasting</span> <span class="nv">element</span> <span class="mi">3</span> <span class="nv">into</span> <span class="nv">Global</span> <span class="nv">Stiffness</span> <span class="nv">Matrix</span>:
    <span class="nv">broadcast3</span> <span class="o">=</span> [<span class="mi">4</span>, <span class="mi">5</span>, <span class="mi">0</span>, <span class="mi">1</span>]
    <span class="k">for</span> <span class="nv">i</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">0</span>,<span class="mi">4</span><span class="ss">)</span>:
       <span class="k">for</span> <span class="nv">j</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">0</span>,<span class="mi">4</span><span class="ss">)</span>:
            <span class="nv">global_stiff</span>[<span class="nv">broadcast3</span>[<span class="nv">i</span>],<span class="nv">broadcast3</span>[<span class="nv">j</span>]] <span class="o">+=</span> <span class="nv">element3</span>[<span class="nv">i</span>,<span class="nv">j</span>]

    <span class="k">return</span> <span class="nv">global_stiff</span>
</pre></div>
</td></tr></table>

<h3 id="solucionador-de-deslocamentos">"Solucionador" de Deslocamentos</h3>
<p>Resolve a matriz de rigidez global, achando os deslocamentos desconhecidos.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">def</span> <span class="nv">displacements_solver</span><span class="ss">(</span><span class="nv">g_matrix</span>, <span class="nv">f</span><span class="ss">)</span>:

    <span class="s2">&quot;&quot;&quot;</span><span class="s">Displacements Solver.</span>
      <span class="nv">Outputs</span> <span class="nv">an</span> <span class="nv">array</span> <span class="nv">with</span> <span class="nv">the</span> <span class="nv">unknown</span> <span class="nv">displacements</span> <span class="k">for</span> <span class="nv">the</span>
      <span class="nv">problem</span>. <span class="nv">The</span> <span class="nv">input</span> <span class="nv">is</span> <span class="nv">made</span> <span class="nv">with</span> <span class="nv">the</span> <span class="nv">prescribed</span> <span class="nv">forces</span> <span class="nv">and</span>
      <span class="nv">the</span> <span class="nv">Global</span> <span class="nv">Stiffness</span> <span class="nv">Matrix</span>.<span class="s2">&quot;&quot;&quot;</span>

    <span class="nv">displacements</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">linalg</span>.<span class="nv">solve</span><span class="ss">(</span><span class="nv">g_matrix</span>[<span class="mi">0</span>:<span class="mi">3</span>, <span class="mi">0</span>:<span class="mi">3</span>], <span class="nv">f</span><span class="ss">)</span>
    <span class="k">return</span> <span class="nv">displacements</span><span class="ss">)</span>
</pre></div>
</td></tr></table>

<h3 id="solucionador-de-forcas">"Solucionador" de Forças</h3>
<p>Encontra as forças desconhecidas do problema, utilizando-se os deslocamentos procurados no <em>solver</em> de deslocamentos.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nv">def</span> <span class="nv">forces_solver</span><span class="ss">(</span><span class="nv">g_matrix</span>, <span class="nv">u</span><span class="ss">)</span>:
    <span class="s2">&quot;&quot;&quot;</span><span class="s">Displacements Solver.</span>
      <span class="nv">Outputs</span> <span class="nv">an</span> <span class="nv">array</span> <span class="nv">with</span> <span class="nv">the</span> <span class="nv">unknown</span> <span class="nv">reaction</span> <span class="nv">forces</span> <span class="k">for</span> <span class="nv">the</span>
      <span class="nv">problem</span>. <span class="nv">The</span> <span class="nv">input</span> <span class="nv">is</span> <span class="nv">made</span> <span class="nv">with</span> <span class="nv">the</span> <span class="nv">displacements</span> <span class="nv">found</span> <span class="nv">in</span> <span class="nv">the</span>
      <span class="nv">Displacements</span> <span class="nv">Solver</span> <span class="nv">function</span> <span class="nv">and</span> <span class="nv">the</span> <span class="nv">Global</span> <span class="nv">Stiffness</span> <span class="nv">Matrix</span>.<span class="s2">&quot;&quot;&quot;</span>

    <span class="nv">forces</span> <span class="o">=</span> [<span class="mi">0</span>, <span class="mi">0</span>, <span class="mi">0</span>]
    <span class="nv">cut_matrix</span> <span class="o">=</span> <span class="nv">global_matrix</span>[<span class="mi">3</span>:,:<span class="mi">3</span>]

    <span class="k">for</span> <span class="nv">i</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">0</span>,<span class="mi">3</span><span class="ss">)</span>:
        <span class="k">for</span> <span class="nv">j</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">0</span>,<span class="mi">3</span><span class="ss">)</span>:
            <span class="nv">forces</span>[<span class="nv">i</span>] <span class="o">+=</span> <span class="nv">cut_matrix</span>[<span class="nv">i</span>,<span class="nv">j</span>]<span class="o">*</span><span class="nv">u</span>[<span class="nv">j</span>]

    <span class="k">return</span> <span class="nv">forces</span>
</pre></div>
</td></tr></table>

<p>Agora, com as funções apresentadas acima tente resolver o problema da treliça via código.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2011 Marco André Argenta
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.ac79c3b0.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../../assets/javascripts/lunr/lunr.pt.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
      
        <script src="../../js/mathjaxhelper.js"></script>
      
        <script src="../../js/adicionais.js"></script>
      
    
  </body>
</html>